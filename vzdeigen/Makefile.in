############################################################################

#vzdeigen - find dominant eigenvalue of linear operator
#Original code by Vlad Zheligovsky
#Interface improvements by Manuel Baptista (2005)

############################################################################

F90 = ifort

F90FLAGS =

AR = ar

ARFLAGS = rcs 

############################################################################


all: libvzdeigen

clean:
	@rm -rfv *.o *~ *.a *.so

distclean: clean
	@rm -rfv *~

vzdeigen.o: vzdeigen.f
	$(F90) $(F90FLAGS) -c vzdeigen.f

libvzdeigen: vzdeigen.o
	$(F90) $(F90FLAGS) -shared -o libvzdeigen.so vzdeigen.o -static -L/opt/intel/fc/9.0/lib -lifcore -limf -static-libcxa
	$(AR) $(ARFLAGS) libvzdeigen.a vzdeigen.o /opt/intel/fc/9.0/lib/libifcore.a /opt/intel/fc/9.0/lib/libimf.a 


#all: vzdeigen.o 
#
#clean:
#	@rm -rfv *.o *.a *.so
#
#distclean: clean	
#	@rm -rfv *~

#vzdeigen.o: vzdeigen.f 
#	$(F90) $(F90FLAGS) -c vzdeigen.f -o vzdeigen.o


